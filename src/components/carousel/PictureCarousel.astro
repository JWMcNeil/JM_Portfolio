---
import { Picture } from "astro:assets";

const { pic1, alt1 } = Astro.props
---

<div class="embla">
    <div class="embla__viewport">
      <div class="embla__container">
        <div class="embla__slide">
            <Picture src={pic1} alt={alt1} />
        </div>
        <div class="embla__slide">Slide 2</div>
        <div class="embla__slide">Slide 3</div>
      </div>
    </div>
    <button class="embla__prev">Prev</button>
    <button class="embla__next">Next</button>
  </div>


  <style>
    .embla {
  overflow: hidden;
}
.embla__container {
  display: flex;
}
.embla__slide {
  flex: 0 0 80%;
  margin-right: 20px;
  margin-left: 10px;
  min-width: 0;
  
}
  </style>

  <script>
    import EmblaCarousel from 'embla-carousel'

    const emblaNode: HTMLElement = document.querySelector('.embla')!;
    const options = { loop: false };
    const emblaApi = EmblaCarousel(emblaNode, options);

    // Grab wrapper nodes
    const rootNode = document.querySelector('.embla')!
    const viewportNode = rootNode.querySelector('.embla__viewport') as HTMLElement;

    // Grab button nodes
    const prevButtonNode = rootNode.querySelector('.embla__prev')
    const nextButtonNode = rootNode.querySelector('.embla__next')

    // console.log(emblaApi.slideNodes()); // Access API

    const embla = EmblaCarousel(viewportNode)

    // Add click listeners
    prevButtonNode!.addEventListener('click', (embla.scrollPrev as unknown) as EventListener, false)
    nextButtonNode!.addEventListener('click', (embla.scrollNext as unknown) as EventListener, false)

  </script>
  